<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>16-cookie-封装</title>
<script type="text/javascript">
	window.onload = function(ev){
		//addCookie("gender","female");
		//addCookie("yoxi","999",1,"/","localhost");
		//addCookie("score","998");
		//document.cookie = "age=88;";
		function addCookie(key,value,day,path,domain){
			//tips:处理默认保存的路径
			var index = window.location.pathname.lastIndexOf("/");
			var currentPath = window.location.pathname.slice(0,index);
			path = path || currentPath;
			//tips:处理默认保存的domain
			domain = domain || document.domain;
			//tips:处理默认保存的过期时间
			if(!day){
				document.cookie = key+"="+value+";"+"path="+path+";"+"domain="+domain+";";
			}else{
				var date = new Date();
				date.setDate(date.getDate()+day);
				document.cookie = key+"="+value+";"+"expires="+date.toGMTString()+";"+"path="+path+";"+"domain="+domain+";";
			}
		}
		
		//console.log(getCookie("yoxi"));
		function getCookie(key){
			//console.log(document.cookie);
			var res = document.cookie.split(";");
			//console.log(res);
			for(var i=0;i<res.length;i++){
				//console.log(res[i]);
				var temp = res[i].split("=");
				//console.log(temp);
				if(temp[0].trim()===key){
					return temp[1];
				}
			}
		}
		
		function delCookie(key,path){
			addCookie(key,getCookie(key),-1,path);
		}
		//delCookie("yoxi","/");
		/*tips:要删除指定路径下的cookie，就必须使用path，如果没有path，就只能删除默认路径的cookie*/
		
	};
</script>
</head>
<body>	

</body>
</html>